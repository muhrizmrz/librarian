{{>main_header}}
{{>staff_header}}

<div class="flex text-gray-400 ml-20 mt-6">
    <a href="/staff" class="px-2">Home</a>
</div>
<div class="w-3/4 mx-auto mt-12 grid grid-cols-1 gap-2">
    <p class="text-2xl font-bold mb-3 text-gray-500 capitalize">Check In</p>
    <form action="/staff/checkin" class="grid lg:grid-cols-1 grid-cols-1 gap-3" id="checkinForm" method="POST">
        <div class="grid grid-cols-2 space-x-2">
            <input type="text" id="cardNum-input" name="barcode" placeholder="Barcode" class="text-gray-700 p-2 border bg-blue-50 rounded border-gray-300 focus:outline-none focus:bg-blue-100">
            <button type="submit" class="p-2 rounded-lg bg-purple-900 text-white w-1/4 hover:bg-purple-700">Check
            In</button>
        </div>
    </form>

</div>

{{#if checkInDetails}}
<div class="w-3/4 mx-auto mt-8 mb-8">
    <p class="text-2xl font-bold mb-3 text-gray-500 capitalize">Check In item</p>
    <table class="table-fixed mt-8 table-auto w-100 mx-auto">
        <thead class="border-b-2 border-purple-500 text-lg text-white">
            <tr>
                <th class="p-2 bg-purple-500">Checkedout On</th>
                <th class="p-2 bg-purple-500">Book Name</th>
                <th class="p-2 bg-purple-500">Author</th>
                <th class="p-2 bg-purple-500">Barcode</th>
                <th class="p-2 bg-purple-500">Patron</th>
            </tr>
        </thead>
        <tbody class="text-gray-700">
            <tr>
                <td class="p-1 px-2 border-grey-200 text-center border-2">{{checkInDetails.0.checkoutItem.date}}</td>
                <td class="p-1 px-2 border-grey-200 text-center border-2 capitalize">
                    {{checkInDetails.0.bookDetails.book_name}}</td>
                <td class="p-1 px-2 border-grey-200 text-center border-2 capitalize">{{checkInDetails.0.bookDetails.author}}
                </td>
                <td class="p-1 px-2 border-grey-200 text-center border-2">{{checkInDetails.0.bookDetails.barcode}}</td>
                <td class="p-1 px-2 border-grey-200 text-center border-2 capitalize">{{checkInDetails.0.patronDetails.patron_name}}({{checkInDetails.0.patronDetails.cardNumber}})</td>
            </tr>
        </tbody>
    </table>
</div>
{{/if}}

    <script src="https://code.jquery.com/jquery-3.6.0.js"
        integrity="sha256-H+K7U5CnXl1h5ywQfKtSj8PCmoN9aaq30gDh27Xc0jk=" crossorigin="anonymous"></script>
    <script type="text/javascript" src="/static/js/staff.js"></script>
    </body>

    </html>